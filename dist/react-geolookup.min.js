!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Geolookup=e()}}(function(){var e;return function e(t,n,o){function r(u,i){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!i&&a)return a(u,!0);if(s)return s(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return r(n||e)},l,l.exports,e,t,n,o)}return n[u].exports}for(var s="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(t,n,o){!function(){"use strict";function t(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r))e.push(t.apply(null,r));else if("object"===s)for(var u in r)o.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==n&&n.exports?n.exports=t:"function"==typeof e&&"object"==typeof e.amd&&e.amd?e("classnames",[],function(){return t}):window.classNames=t}()},{}],2:[function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},t.exports=r},{}],3:[function(e,t,n){(function(e){"use strict";function n(e,t,n,r,s,u,i,a){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,u,i,a],p=0;c=new Error(t.replace(/%s/g,function(){return l[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};"production"!==e.env.NODE_ENV&&(o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),t.exports=n}).call(this,e("_process"))},{_process:8}],4:[function(e,t,n){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function r(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var u=0;u<n.length;u++)if(!s.call(t,n[u])||!o(e[n[u]],t[n[u]]))return!1;return!0}var s=Object.prototype.hasOwnProperty;t.exports=r},{}],5:[function(e,t,n){(function(n){"use strict";var o=e("./emptyFunction"),r=o;if("production"!==n.env.NODE_ENV){var s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,s="Warning: "+e.replace(/%s/g,function(){return n[r++]});try{throw new Error(s)}catch(e){}};r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];s.apply(void 0,[t].concat(o))}}}t.exports=r}).call(this,e("_process"))},{"./emptyFunction":2,_process:8}],6:[function(e,t,n){(function(e){function n(e,t,n){function r(t){var n=h,o=y;return h=y=void 0,_=t,b=e.apply(o,n)}function s(e){return _=e,m=setTimeout(l,t),k?r(e):b}function a(e){var n=e-j,o=e-_,r=t-n;return P?w(r,v-o):r}function c(e){var n=e-j,o=e-_;return void 0===j||n>=t||n<0||P&&o>=v}function l(){var e=O();if(c(e))return p(e);m=setTimeout(l,a(e))}function p(e){return m=void 0,T&&h?r(e):(h=y=void 0,b)}function f(){void 0!==m&&clearTimeout(m),_=0,h=j=y=m=void 0}function g(){return void 0===m?b:p(O())}function d(){var e=O(),n=c(e);if(h=arguments,y=this,j=e,n){if(void 0===m)return s(j);if(P)return m=setTimeout(l,t),r(j)}return void 0===m&&(m=setTimeout(l,t)),b}var h,y,v,b,m,j,_=0,k=!1,P=!1,T=!0;if("function"!=typeof e)throw new TypeError(i);return t=u(t)||0,o(n)&&(k=!!n.leading,P="maxWait"in n,v=P?S(u(n.maxWait)||0,t):v,T="trailing"in n?!!n.trailing:T),d.cancel=f,d.flush=g,d}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||r(e)&&m.call(e)==c}function u(e){if("number"==typeof e)return e;if(s(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=f.test(e);return n||g.test(e)?d(e.slice(2),n?2:8):p.test(e)?a:+e}var i="Expected a function",a=NaN,c="[object Symbol]",l=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,g=/^0o[0-7]+$/i,d=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,v=h||y||Function("return this")(),b=Object.prototype,m=b.toString,S=Math.max,w=Math.min,O=function(){return v.Date.now()};t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,a=o(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)s.call(n,l)&&(a[l]=n[l]);if(r){i=r(n);for(var p=0;p<i.length;p++)u.call(n,i[p])&&(a[i[p]]=n[i[p]])}}return a}},{}],8:[function(e,t,n){function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(p===setTimeout)return setTimeout(e,0);if((p===o||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function u(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){y&&d&&(y=!1,d.length?h=d.concat(h):v=-1,h.length&&a())}function a(){if(!y){var e=s(i);y=!0;for(var t=h.length;t;){for(d=h,h=[];++v<t;)d&&d[v].run();v=-1,t=h.length}d=null,y=!1,u(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var p,f,g=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:o}catch(e){p=o}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,h=[],y=!1,v=-1;g.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||y||s(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=l,g.addListener=l,g.once=l,g.off=l,g.removeListener=l,g.removeAllListeners=l,g.emit=l,g.prependListener=l,g.prependOnceListener=l,g.listeners=function(e){return[]},g.binding=function(e){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(e){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],9:[function(e,t,n){(function(n){"use strict";function o(e,t,o,a,c){if("production"!==n.env.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var p;try{r("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",a||"React class",o,l,typeof e[l]),p=e[l](t,l,a,o,null,u)}catch(e){p=e}if(s(!p||p instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",o,l,typeof p),p instanceof Error&&!(p.message in i)){i[p.message]=!0;var f=c?c():"";s(!1,"Failed %s type: %s%s",o,p.message,null!=f?f:"")}}}if("production"!==n.env.NODE_ENV)var r=e("fbjs/lib/invariant"),s=e("fbjs/lib/warning"),u=e("./lib/ReactPropTypesSecret"),i={};t.exports=o}).call(this,e("_process"))},{"./lib/ReactPropTypesSecret":13,_process:8,"fbjs/lib/invariant":3,"fbjs/lib/warning":5}],10:[function(e,t,n){"use strict";var o=e("fbjs/lib/emptyFunction"),r=e("fbjs/lib/invariant"),s=e("./lib/ReactPropTypesSecret");t.exports=function(){function e(e,t,n,o,u,i){i!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},{"./lib/ReactPropTypesSecret":13,"fbjs/lib/emptyFunction":2,"fbjs/lib/invariant":3}],11:[function(e,t,n){(function(n){"use strict";var o=e("fbjs/lib/emptyFunction"),r=e("fbjs/lib/invariant"),s=e("fbjs/lib/warning"),u=e("object-assign"),i=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes");t.exports=function(e,t){function c(e){var t=e&&(T&&e[T]||e[E]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function p(e){this.message=e,this.stack=""}function f(e){function o(o,c,l,f,g,d,h){if(f=f||x,d=d||l,h!==i)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==n.env.NODE_ENV&&"undefined"!=typeof console){var y=f+":"+l;!u[y]&&a<3&&(s(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,f),u[y]=!0,a++)}return null==c[l]?o?new p(null===c[l]?"The "+g+" `"+d+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+g+" `"+d+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(c,l,f,g,d)}if("production"!==n.env.NODE_ENV)var u={},a=0;var c=o.bind(null,!1);return c.isRequired=o.bind(null,!0),c}function g(e){function t(t,n,o,r,s,u){var i=t[n];if(j(i)!==e)return new p("Invalid "+r+" `"+s+"` of type `"+_(i)+"` supplied to `"+o+"`, expected `"+e+"`.");return null}return f(t)}function d(e){function t(t,n,o,r,s){if("function"!=typeof e)return new p("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u)){return new p("Invalid "+r+" `"+s+"` of type `"+j(u)+"` supplied to `"+o+"`, expected an array.")}for(var a=0;a<u.length;a++){var c=e(u,a,o,r,s+"["+a+"]",i);if(c instanceof Error)return c}return null}return f(t)}function h(e){function t(t,n,o,r,s){if(!(t[n]instanceof e)){var u=e.name||x;return new p("Invalid "+r+" `"+s+"` of type `"+P(t[n])+"` supplied to `"+o+"`, expected instance of `"+u+"`.")}return null}return f(t)}function y(e){function t(t,n,o,r,s){for(var u=t[n],i=0;i<e.length;i++)if(l(u,e[i]))return null;return new p("Invalid "+r+" `"+s+"` of value `"+u+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?f(t):("production"!==n.env.NODE_ENV&&s(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)}function v(e){function t(t,n,o,r,s){if("function"!=typeof e)return new p("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var u=t[n],a=j(u);if("object"!==a)return new p("Invalid "+r+" `"+s+"` of type `"+a+"` supplied to `"+o+"`, expected an object.");for(var c in u)if(u.hasOwnProperty(c)){var l=e(u,c,o,r,s+"."+c,i);if(l instanceof Error)return l}return null}return f(t)}function b(e){function t(t,n,o,r,s){for(var u=0;u<e.length;u++){if(null==(0,e[u])(t,n,o,r,s,i))return null}return new p("Invalid "+r+" `"+s+"` supplied to `"+o+"`.")}if(!Array.isArray(e))return"production"!==n.env.NODE_ENV&&s(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var r=0;r<e.length;r++){var u=e[r];if("function"!=typeof u)return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",k(u),r),o.thatReturnsNull}return f(t)}function m(e){function t(t,n,o,r,s){var u=t[n],a=j(u);if("object"!==a)return new p("Invalid "+r+" `"+s+"` of type `"+a+"` supplied to `"+o+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var f=l(u,c,o,r,s+"."+c,i);if(f)return f}}return null}return f(t)}function S(e){function t(t,n,o,r,s){var a=t[n],c=j(a);if("object"!==c)return new p("Invalid "+r+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `object`.");var l=u({},t[n],e);for(var f in l){var g=e[f];if(!g)return new p("Invalid "+r+" `"+s+"` key `"+f+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=g(a,f,o,r,s+"."+f,i);if(d)return d}return null}return f(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var n=c(t);if(!n)return!1;var o,r=n.call(t);if(n!==t.entries){for(;!(o=r.next()).done;)if(!w(o.value))return!1}else for(;!(o=r.next()).done;){var s=o.value;if(s&&!w(s[1]))return!1}return!0;default:return!1}}function O(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function j(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":O(t,e)?"symbol":t}function _(e){if(void 0===e||null===e)return""+e;var t=j(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function P(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var T="function"==typeof Symbol&&Symbol.iterator,E="@@iterator",x="<<anonymous>>",N={array:g("array"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:function(){return f(o.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,o,r,s){var u=t[n];if(!e(u)){return new p("Invalid "+r+" `"+s+"` of type `"+j(u)+"` supplied to `"+o+"`, expected a single ReactElement.")}return null}return f(t)}(),instanceOf:h,node:function(){function e(e,t,n,o,r){return w(e[t])?null:new p("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")}return f(e)}(),objectOf:v,oneOf:y,oneOfType:b,shape:m,exact:S};return p.prototype=Error.prototype,N.checkPropTypes=a,N.PropTypes=N,N}}).call(this,e("_process"))},{"./checkPropTypes":9,"./lib/ReactPropTypesSecret":13,_process:8,"fbjs/lib/emptyFunction":2,"fbjs/lib/invariant":3,"fbjs/lib/warning":5,"object-assign":7}],12:[function(e,t,n){(function(n){if("production"!==n.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o};t.exports=e("./factoryWithTypeCheckers")(r,!0)}else t.exports=e("./factoryWithThrowingShims")()}).call(this,e("_process"))},{"./factoryWithThrowingShims":10,"./factoryWithTypeCheckers":11,_process:8}],13:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],14:[function(e,t,n){"use strict";function o(e,t,n){return!r(e.props,t)||!r(e.state,n)}var r=e("fbjs/lib/shallowEqual");t.exports=o},{"fbjs/lib/shallowEqual":4}],15:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Object.defineProperty(n,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=window.React,p=o(l),f=e("classnames"),g=o(f),d=e("lodash.debounce"),h=o(d),y=e("./defaults"),v=o(y),b=e("./prop-types"),m=o(b),S=e("./filter-input-attributes"),w=o(S),O=e("./input"),j=o(O),_=e("./suggest-list"),k=o(_),P=function(e){function t(e){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){n.setState({userInput:e},n.onAfterInputChange)},n.onAfterInputChange=function(){n.state.isSuggestsHidden||n.disableAutoLookup||n.showSuggests(),n.props.onChange(n.state.userInput)},n.onInputFocus=function(){n.props.onFocus(),n.disableAutoLookup||n.showSuggests()},n.onInputBlur=function(){n.state.ignoreBlur||n.disableAutoLookup||n.hideSuggests()},n.onButtonClick=function(){n.state.isSuggestsHidden&&n.disableAutoLookup?n.showSuggests():n.hideSuggests()},n.onNext=function(){return n.activateSuggest("next")},n.onPrev=function(){return n.activateSuggest("prev")},n.onSelect=function(){return n.selectSuggest(n.state.activeSuggest)},n.onSuggestMouseDown=function(){return n.setState({ignoreBlur:!0})},n.onSuggestMouseOut=function(){return n.setState({ignoreBlur:!1})},n.onSuggestNoResults=function(){n.props.onSuggestNoResults(n.state.userInput)},n.hideSuggests=function(){n.props.onBlur(n.state.userInput),n.timer=setTimeout(function(){n.setState({isSuggestsHidden:!0,activeSuggest:null})},100)},n.selectSuggest=function(e){if(e||(e={label:n.state.userInput}),n.setState({isSuggestsHidden:!0,userInput:e.label}),e.location)return n.setState({ignoreBlur:!1}),void n.props.onSuggestSelect(e);n.geocodeSuggest(e)},n.state={isSuggestsHidden:!0,isLoading:!1,userInput:e.initialValue,activeSuggest:null,suggests:[]},n.onInputChange=n.onInputChange.bind(n),n.onAfterInputChange=n.onAfterInputChange.bind(n),e.queryDelay&&(n.onAfterInputChange=(0,h.default)(n.onAfterInputChange,e.queryDelay)),n.geocodeProvider=e.geocodeProvider,n.disableAutoLookup=e.disableAutoLookup,n}return u(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initialValue!==e.initialValue&&this.setState({userInput:e.initialValue})}},{key:"componentWillMount",value:function(){if("undefined"!=typeof window&&!this.geocodeProvider&&void 0===this.props.onGeocodeSuggest()){var e=this.props.googleMaps||window.google&&window.google.maps||this.googleMaps;if(this.googleMaps=e,!e)return;this.autocompleteService=new e.places.AutocompleteService,this.geocoder=new e.Geocoder}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"update",value:function(e){this.setState({userInput:e}),this.props.onChange(e)}},{key:"clear",value:function(){this.setState({userInput:""},this.hideSuggests)}},{key:"searchSuggests",value:function(){var e=this;if(!this.state.userInput)return void this.updateSuggests();this.setState({isLoading:!0},function(){if(void 0===e.props.onSuggestsLookup())if(e.props.geocodeProvider)e.props.geocodeProvider.lookup(e.state.userInput).then(function(t){e.setState({isLoading:!1}),e.updateSuggests(t||[],function(){e.props.autoActivateFirstSuggest&&!e.state.activeSuggest&&e.activateSuggest("next")})}).catch(function(e){});else{var t={input:e.state.userInput};["location","radius","bounds","types"].forEach(function(n){e.props[n]&&(t[n]=e.props[n])}),e.props.country&&(t.componentRestrictions={country:e.props.country}),e.autocompleteService.getPlacePredictions(t,function(t){e.setState({isLoading:!1}),e.updateSuggests(t||[],function(){e.props.autoActivateFirstSuggest&&!e.state.activeSuggest&&e.activateSuggest("next")})})}else e.props.onSuggestsLookup(e.state.userInput).then(function(t){e.setState({isLoading:!1}),e.updateSuggests(t||[],function(){e.props.autoActivateFirstSuggest&&!e.state.activeSuggest&&e.activateSuggest("next")})}).catch(function(e){})})}},{key:"updateSuggests",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],o=[],r=new RegExp(i(this.state.userInput),"gim"),s=this.props.skipSuggest,u=0,a=null;this.props.fixtures.forEach(function(e){u>=10||!s(e)&&e.label.match(r)&&(u++,e.placeId=e.label,e.isFixture=!0,o.push(e))}),t.forEach(function(t){s(t)||o.push({label:e.props.getSuggestLabel(t),placeId:t.place_id,raw:t,isFixture:!1})}),a=this.updateActiveSuggest(o),this.props.onSuggestResults(o),this.setState({suggests:o,activeSuggest:a},n)}},{key:"updateActiveSuggest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.state.activeSuggest;if(t){var n=e.find(function(e){return t.placeId===e.placeId&&t.isFixture===e.isFixture});t=n||null}return t}},{key:"showSuggests",value:function(){this.searchSuggests(),this.setState({isSuggestsHidden:!1})}},{key:"activateSuggest",value:function(e){if(this.state.isSuggestsHidden)return void this.showSuggests();var t=this.state.suggests.length-1,n="next"===e,o=null,r=0,s=0;for(s;s<=t;s++)this.state.suggests[s]===this.state.activeSuggest&&(r=n?s+1:s-1);this.state.activeSuggest||(r=n?0:t),r>=0&&r<=t&&(o=this.state.suggests[r]),this.props.onActivateSuggest(o),this.setState({activeSuggest:o})}},{key:"geocodeSuggest",value:function(e){var t=this;if(void 0===this.props.onGeocodeSuggest())this.props.geocodeProvider?this.props.geocodeProvider.geocode(e).then(function(e){t.props.onSuggestSelect(e)}):this.geocoder.geocode(e.placeId&&!e.isFixture?{placeId:e.placeId}:{address:e.label},function(n,o){if(o===t.googleMaps.GeocoderStatus.OK){var r=n[0],s=r.geometry.location;e.gmaps=r,e.location={lat:s.lat(),lng:s.lng()}}t.props.onSuggestSelect(e)});else{var n=this.props.onGeocodeSuggest(e);this.props.onSuggestSelect(n)}}},{key:"render",value:function(){var e=(0,w.default)(this.props),t=(0,g.default)("geolookup",this.props.className,{"geolookup--loading":this.state.isLoading}),n=this.props.label&&e.id,o=this.props.disableAutoLookup,r=p.default.createElement(j.default,a({className:this.props.inputClassName,ref:"input",value:this.state.userInput,ignoreEnter:!this.state.isSuggestsHidden,ignoreTab:this.props.ignoreTab,style:this.props.style.input,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyPress:this.props.onKeyPress,onNext:this.onNext,onPrev:this.onPrev,onSelect:this.onSelect,onEscape:this.hideSuggests},e)),s=p.default.createElement("button",{className:this.props.buttonClassName,type:"button",onClick:this.onButtonClick},this.props.buttonText),u=p.default.createElement(k.default,{isHidden:this.state.isSuggestsHidden,style:this.props.style.suggests,suggestItemStyle:this.props.style.suggestItem,suggests:this.state.suggests,hiddenClassName:this.props.suggestsHiddenClassName,suggestItemActiveClassName:this.props.suggestItemActiveClassName,activeSuggest:this.state.activeSuggest,onSuggestNoResults:this.onSuggestNoResults,onSuggestMouseDown:this.onSuggestMouseDown,onSuggestMouseOut:this.onSuggestMouseOut,onSuggestSelect:this.selectSuggest,suggestItemLabelRenderer:this.props.suggestItemLabelRenderer});return p.default.createElement("div",{className:t},p.default.createElement("span",{className:"geolookup__input-wrapper"},n&&p.default.createElement("label",{className:"geolookup__label",htmlFor:e.id},this.props.label),r),o&&p.default.createElement("span",{className:"geolookup__button-wrapper"},s),p.default.createElement("div",{className:"geolookup__suggests-wrapper"},u))}}]),t}(p.default.Component);P.propTypes=m.default,P.defaultProps=v.default,n.default=P},{"./defaults":16,"./filter-input-attributes":17,"./input":18,"./prop-types":19,"./suggest-list":21,classnames:1,"lodash.debounce":6}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={fixtures:[],initialValue:"",placeholder:"Search places",disabled:!1,className:"",inputClassName:"",buttonClassName:"geolookup__button",buttonText:"Search",location:null,radius:null,bounds:null,country:null,types:null,queryDelay:250,googleMaps:null,geocodeProvider:null,disableAutoLookup:!1,onActivateSuggest:function(){},onGeocodeSuggest:function(){},onSuggestsLookup:function(){},onSuggestSelect:function(){},onSuggestResults:function(){},onSuggestNoResults:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},skipSuggest:function(){},showSuggests:function(){},getSuggestLabel:function(e){return e.description},autoActivateFirstSuggest:!1,style:{input:{},suggests:{},suggestItem:{}},ignoreTab:!1,suggestItemLabelRenderer:function(e){return e.label}}},{}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t={};return o.forEach(function(n){e[n]&&(t[n]=e[n])}),t};var o=["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","height","id","inputMode","maxLength","name","onClick","onContextMenu","onCopy","onCut","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPaste","pattern","placeholder","readOnly","required","size","spellCheck","tabIndex","aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-dropeffect","aria-errormessage","aria-flowto","aria-grabbed","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription","aria-activedescendant","aria-autocomplete","aria-multiline","aria-placeholder","aria-readonly","aria-required"]},{}],18:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=window.React,l=o(c),p=e("react-addons-shallow-compare"),f=o(p),g=e("classnames"),d=o(g),h=e("./filter-input-attributes"),y=o(h),v=function(e){function t(){var e,n,o,u;r(this,t);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.onChange=function(){o.props.onChange(o.refs.input.value)},o.onFocus=function(){o.props.onFocus()},o.onBlur=function(){o.props.onBlur()},o.onKeyPress=function(e){o.props.onKeyPress(e)},o.onInputKeyDown=function(e){switch(e.which){case 40:e.preventDefault(),o.props.onNext();break;case 38:e.preventDefault(),o.props.onPrev();break;case 13:o.props.ignoreEnter&&e.preventDefault(),o.props.onSelect();break;case 9:o.props.ignoreTab||o.props.onSelect();break;case 27:o.props.onEscape()}},u=n,s(o,u)}return u(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,f.default)(this,e,t)}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"render",value:function(){var e=(0,y.default)(this.props),t=(0,d.default)("geolookup__input",this.props.className);return l.default.createElement("input",i({className:t,ref:"input",type:"text",autoComplete:"off"},e,{value:this.props.value,style:this.props.style,onKeyDown:this.onInputKeyDown,onChange:this.onChange,onKeyPress:this.onKeyPress,onFocus:this.onFocus,onBlur:this.onBlur}))}}]),t}(l.default.Component);v.defaultProps={className:"",value:"",ignoreTab:!1,onKeyDown:function(){},onKeyPress:function(){}},n.default=v},{"./filter-input-attributes":17,classnames:1,"react-addons-shallow-compare":14}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("prop-types"),r=function(e){return e&&e.__esModule?e:{default:e}}(o);n.default={fixtures:r.default.array,initialValue:r.default.string,placeholder:r.default.string,disabled:r.default.bool,className:r.default.string,inputClassName:r.default.string,suggestsHiddenClassName:r.default.string,suggestItemActiveClassName:r.default.string,buttonClassName:r.default.string,buttonText:r.default.string,location:r.default.object,radius:r.default.oneOfType([r.default.string,r.default.number]),bounds:r.default.object,country:r.default.string,types:r.default.array,queryDelay:r.default.number,googleMaps:r.default.object,geocodeProvider:r.default.object,onGeocodeSuggest:r.default.func,onSuggestsLookup:r.default.func,onSuggestSelect:r.default.func,onSuggestResults:r.default.func,onFocus:r.default.func,onBlur:r.default.func,onChange:r.default.func,onKeyPress:r.default.func,skipSuggest:r.default.func,showSuggests:r.default.func,disableAutoLookup:r.default.bool,getSuggestLabel:r.default.func,autoActivateFirstSuggest:r.default.bool,style:r.default.shape({input:r.default.object,suggests:r.default.object,suggestItem:r.default.object}),ignoreTab:r.default.bool,label:r.default.string,suggestItemLabelRenderer:r.default.func}},{"prop-types":12}],20:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,
"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=window.React,l=o(c),p=e("react-addons-shallow-compare"),f=o(p),g=e("classnames"),d=o(g),h=function(e){function t(){var e,n,o,r;s(this,t);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.onClick=function(e){e.preventDefault(),o.props.onSelect(o.props.suggest)},r=n,u(o,r)}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,f.default)(this,e,t)}},{key:"render",value:function(){var e=(0,d.default)("geolookup__item",this.props.className,{"geolookup__item--active":this.props.isActive},r({},this.props.activeClassname,this.props.activeClassname?this.props.isActive:null));return l.default.createElement("li",{className:e,style:this.props.style,onMouseDown:this.props.onMouseDown,onMouseOut:this.props.onMouseOut,onClick:this.onClick},this.props.suggestItemLabelRenderer(this.props.suggest))}}]),t}(l.default.Component);n.default=h,h.defaultProps={isActive:!1,className:"",suggest:{}}},{classnames:1,"react-addons-shallow-compare":14}],21:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=window.React,l=o(c),p=e("react-addons-shallow-compare"),f=o(p),g=e("classnames"),d=o(g),h=e("./suggest-item"),y=o(h),v=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,f.default)(this,e,t)}},{key:"isHidden",value:function(){return this.props.isHidden||0===this.props.suggests.length}},{key:"componentWillReceiveProps",value:function(e){e.suggests!==this.props.suggests&&0===e.suggests.length&&this.props.onSuggestNoResults()}},{key:"render",value:function(){var e=this,t=(0,d.default)("geolookup__suggests",{"geolookup__suggests--hidden":this.isHidden()},r({},this.props.hiddenClassName,this.props.hiddenClassName?this.isHidden():null));return l.default.createElement("ul",{className:t,style:this.props.style},this.props.suggests.map(function(t){var n=e.props.activeSuggest&&t.placeId===e.props.activeSuggest.placeId;return l.default.createElement(y.default,{key:t.placeId,className:t.className,suggest:t,style:e.props.suggestItemStyle,isActive:n,activeClassname:e.props.suggestItemActiveClassName,onMouseDown:e.props.onSuggestMouseDown,onMouseOut:e.props.onSuggestMouseOut,onSelect:e.props.onSuggestSelect,suggestItemLabelRenderer:e.props.suggestItemLabelRenderer})}))}}]),t}(l.default.Component);n.default=v,v.defaultProps={isHidden:!0,suggests:[]}},{"./suggest-item":20,classnames:1,"react-addons-shallow-compare":14}]},{},[15])(15)});